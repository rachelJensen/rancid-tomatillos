(this["webpackJsonprancid-tomatillos"]=this["webpackJsonprancid-tomatillos"]||[]).push([[0],{28:function(e,t,r){},29:function(e,t,r){},30:function(e,t,r){},39:function(e,t,r){},40:function(e,t,r){},41:function(e,t,r){},42:function(e,t,r){},50:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(19),c=r.n(a),s=(r(28),r(7)),i=r(20),o=r(9),l=r(8),d=(r(29),r(30),r(5)),j=r(0),u=function(){return Object(j.jsx)("header",{children:Object(j.jsx)(d.b,{to:"/rancid-tomatillos/movies",className:"link",children:Object(j.jsx)("h1",{children:"Rancid Tomatillos"})})})},m=(r(39),r(40),function(e){var t=e.id,r=e.poster,n=e.title;return Object(j.jsx)(d.b,{to:"movies/".concat(t),children:Object(j.jsx)("article",{id:t,children:Object(j.jsx)("img",{className:"poster",src:r,alt:n})})})}),b=(r(41),function(e){var t=e.errorType,r="error 404"===t?"404":"Something went wrong",n="error 404"===t?"Page Not Found":"Please try again later";return Object(j.jsx)(d.b,{className:"link",to:"/rancid-tomatillos/movies",children:Object(j.jsx)("section",{className:"error",children:Object(j.jsxs)("div",{className:"error-message",children:[Object(j.jsx)("h2",{className:"neon-error",children:r}),Object(j.jsx)("h3",{className:"neon-error",children:n})]})})})}),v=function(e){var t=e.movies,r=e.loadingError,n=t.map((function(e){return Object(j.jsx)(m,{id:e.id,poster:e.poster_path,backdrop:e.backdrop_path,title:e.title,rating:e.average_rating,release:e.release_date},e.id)}));return r?Object(j.jsx)(b,{errorType:r}):Object(j.jsx)("div",{className:"background",children:Object(j.jsx)("section",{className:"container",children:n})})},h=(r(42),function(e){return e.genres=e.genres.join(", "),e.average_rating=e.average_rating.toFixed(1),e.release_date=e.release_date.split("-").shift(),e.revenue=e.revenue?"Revenue: $".concat(e.revenue):"",e.budget=e.budget?"Budget: $".concat(e.budget):"",e.genres=e.genres?"Genre(s): ".concat(e.genres):"",e.runtime=e.runtime?"Runtime: ".concat(e.runtime," min"):"",e}),p=function(e){var t=e||"";return fetch("".concat("https://rancid-tomatillos.herokuapp.com/api/v2/movies/").concat(t)).then((function(e){return e.ok?e.json():Promise.reject("error ".concat(e.status))}))},O=r(23),x=r.n(O),g=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).componentDidMount=function(){p(e.props.id).then((function(t){return e.setState({movie:h(t.movie)})})).catch((function(t){return e.setState({error:t})})),p("".concat(e.props.id,"/videos")).then((function(t){return e.setState({video:t.videos})})).catch((function(e){return console.log(e)}))},e.render=function(){return NaN===e.props.id||e.state.error?Object(j.jsx)(b,{errorType:e.state.error}):Object(j.jsxs)("section",{className:"movie-info",children:[Object(j.jsx)("img",{className:"backdrop",src:e.state.movie.backdrop_path,alt:e.state.movie.title}),Object(j.jsxs)("div",{className:"details-container",children:[Object(j.jsxs)("div",{className:"details-box",children:[Object(j.jsx)("h2",{children:e.state.movie.title}),Object(j.jsx)("p",{className:"tagline",children:e.state.movie.tagline}),Object(j.jsx)("p",{className:"genres",children:e.state.movie.genres}),Object(j.jsx)("p",{className:"release",children:e.state.movie.release_date}),Object(j.jsx)("p",{className:"overview",children:e.state.movie.overview}),Object(j.jsxs)("p",{className:"rating",children:["Average Rating ",e.state.movie.average_rating]}),Object(j.jsx)("p",{className:"budget",children:e.state.movie.budget}),Object(j.jsx)("p",{className:"revenue",children:e.state.movie.revenue}),Object(j.jsx)("p",{className:"runtime",children:e.state.movie.runtime})]}),e.state.video[0]&&Object(j.jsx)("div",{className:"video-wrapper",children:Object(j.jsx)(x.a,{className:"react-player",url:"https://www.youtube.com/watch?v=".concat(e.state.video[0].key),width:"100%",height:"100%"})})]})]})},e.state={movie:{},video:[],error:""},e}return r}(n.Component),f=r(2),N=function(e){Object(o.a)(r,e);var t=Object(l.a)(r);function r(){var e;return Object(s.a)(this,r),(e=t.call(this)).componentDidMount=function(){p().then((function(t){return e.setState({movies:t.movies})})).catch((function(t){e.setState({loadingError:t})}))},e.state={movies:[],loadingError:""},e}return Object(i.a)(r,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("main",{className:"main",children:[Object(j.jsx)(u,{}),Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{exact:!0,path:"/rancid-tomatillos/",children:Object(j.jsx)(f.a,{to:"/rancid-tomatillos/movies"})}),Object(j.jsx)(f.b,{exact:!0,path:"/rancid-tomatillos/movies",render:function(){return Object(j.jsx)(v,{movies:e.state.movies,loadingError:e.state.loadingError})}}),Object(j.jsx)(f.b,{exact:!0,path:"/rancid-tomatillos/movies/:id",render:function(e){var t=e.match;return Object(j.jsx)(g,{id:parseInt(t.params.id)})}}),Object(j.jsx)(f.b,{path:"*",render:function(){return Object(j.jsx)(b,{errorType:"error 404"})}})]})]})}}]),r}(n.Component),k=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,51)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};c.a.render(Object(j.jsx)(d.a,{children:Object(j.jsx)(N,{})}),document.getElementById("root")),k()}},[[50,1,2]]]);
//# sourceMappingURL=main.abbc8ac9.chunk.js.map